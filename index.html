<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Ä°htisas GÄ±da | B2B Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="theme-color" content="#DC2626">
  <style>
    /* Mobilde daha â€œappâ€ hissi */
    html, body { height: 100%; }
    body { -webkit-tap-highlight-color: transparent; }
  </style>
</head>

<body class="bg-gray-100 text-gray-900">
  <!-- Top App Bar -->
  <header class="sticky top-0 z-30 bg-white/95 backdrop-blur border-b">
    <div class="px-4 pt-4 pb-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-2">
          <div class="h-9 w-9 rounded-xl bg-red-600 grid place-items-center text-white font-bold">Ä°G</div>
          <div class="leading-tight">
            <div class="font-semibold">Ä°htisas GÄ±da</div>
            <div class="text-xs text-gray-500">B2B Toptan â€¢ Demo</div>
          </div>
        </div>
        <button class="h-10 px-3 rounded-xl bg-gray-100 text-sm font-medium">ğŸ” Ara</button>
      </div>

      <!-- Search (fake) -->
      <div class="mt-3">
        <div class="flex items-center gap-2 bg-gray-100 rounded-2xl px-3 py-2">
          <span class="text-gray-500">ğŸ”</span>
          <input id="q" class="w-full bg-transparent outline-none text-sm" placeholder="ÃœrÃ¼n ara (Ã¶r: yaÄŸ, pirinÃ§, salÃ§a)" />
          <button id="clearBtn" class="text-xs text-gray-500 hidden">Temizle</button>
        </div>
      </div>

      <!-- Category chips -->
      <div class="mt-3 -mx-1 flex gap-2 overflow-x-auto pb-1">
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-red-600 text-white" data-cat="TÃ¼mÃ¼">TÃ¼mÃ¼</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="YaÄŸlar">YaÄŸlar</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="Bakliyat">Bakliyat</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="Soslar">Soslar</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="Temel GÄ±da">Temel GÄ±da</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="Ä°Ã§ecek">Ä°Ã§ecek</button>
        <button class="chip px-4 py-2 rounded-full text-sm font-medium bg-gray-100" data-cat="Temizlik">Temizlik</button>
      </div>
    </div>
  </header>

  <!-- Campaign strip -->
  <section class="px-4 pt-4">
    <div class="rounded-2xl bg-red-600 text-white p-4 shadow">
      <div class="text-sm opacity-90">HaftanÄ±n FÄ±rsatlarÄ±</div>
      <div class="text-lg font-semibold">Toptan avantajlÄ± fiyatlar â€¢ HÄ±zlÄ± teslimat</div>
      <div class="mt-2 flex gap-2">
        <span class="px-3 py-1 rounded-full bg-white/15 text-xs">Kampanya</span>
        <span class="px-3 py-1 rounded-full bg-white/15 text-xs">Yeni ÃœrÃ¼n</span>
        <span class="px-3 py-1 rounded-full bg-white/15 text-xs">Kurumsal</span>
      </div>
    </div>
  </section>

  <!-- Products -->
  <main class="px-4 pt-4 pb-24">
    <div class="flex items-center justify-between mb-3">
      <div>
        <div class="font-semibold">ÃœrÃ¼nler</div>
        <div id="meta" class="text-xs text-gray-500">YÃ¼kleniyorâ€¦</div>
      </div>
      <button id="sortBtn" class="text-sm font-medium px-3 py-2 rounded-xl bg-white border">SÄ±rala: Ã–nerilen</button>
    </div>

    <div id="grid" class="grid grid-cols-2 gap-3 md:grid-cols-4"></div>
  </main>

  <!-- Bottom Nav -->
  <nav class="fixed bottom-0 left-0 right-0 z-40 bg-white border-t">
    <div class="max-w-md mx-auto px-4 py-2 grid grid-cols-4 text-xs">
      <button class="tab flex flex-col items-center gap-1 py-2 text-red-600 font-semibold" data-tab="home">ğŸ <span>Anasayfa</span></button>
      <button class="tab flex flex-col items-center gap-1 py-2 text-gray-500" data-tab="categories">ğŸ§¾<span>Kategoriler</span></button>
      <button class="tab flex flex-col items-center gap-1 py-2 text-gray-500" data-tab="cart">ğŸ›’<span>Sepet</span></button>
      <button class="tab flex flex-col items-center gap-1 py-2 text-gray-500" data-tab="account">ğŸ‘¤<span>Hesap</span></button>
    </div>
  </nav>

  <!-- Sheet / Modal -->
  <div id="sheetBackdrop" class="fixed inset-0 bg-black/40 hidden z-50"></div>
  <div id="sheet" class="fixed left-0 right-0 bottom-0 z-50 hidden">
    <div class="max-w-md mx-auto bg-white rounded-t-3xl shadow-2xl p-4">
      <div class="flex items-start justify-between gap-3">
        <div>
          <div id="sheetTitle" class="font-semibold text-lg">ÃœrÃ¼n</div>
          <div id="sheetSub" class="text-sm text-gray-500">Paket</div>
        </div>
        <button id="closeSheet" class="h-10 w-10 rounded-xl bg-gray-100 grid place-items-center">âœ•</button>
      </div>

      <div class="mt-3 h-40 rounded-2xl bg-gray-100 grid place-items-center text-gray-400 text-sm">
        GÃ¶rsel AlanÄ± (demo)
      </div>

      <div class="mt-4 flex items-center justify-between">
        <div>
          <div class="text-xs text-gray-500">Toptan Fiyat</div>
          <div id="sheetPrice" class="text-xl font-semibold text-red-600">â‚º0,00</div>
          <div class="text-xs text-gray-500">KDV hariÃ§ (demo)</div>
        </div>
        <div class="flex items-center gap-2">
          <button id="minus" class="h-11 w-11 rounded-xl bg-gray-100 text-lg">âˆ’</button>
          <div id="qty" class="min-w-10 text-center font-semibold">1</div>
          <button id="plus" class="h-11 w-11 rounded-xl bg-gray-100 text-lg">+</button>
        </div>
      </div>

      <button id="addToCart" class="mt-4 w-full h-12 rounded-2xl bg-red-600 text-white font-semibold">
        Sepete Ekle (Demo)
      </button>

      <div class="mt-3 text-xs text-gray-500">
        Not: Bu ekran yalnÄ±zca gÃ¶rsel demo amaÃ§lÄ±dÄ±r.
      </div>
    </div>
  </div>

<script>
  // --- Demo data (100 Ã¼rÃ¼n hissi: kategori bazlÄ± Ã§oÄŸaltma) ---
  const base = [
    {name:"AyÃ§iÃ§ek YaÄŸÄ±", pack:"5 L Teneke", cat:"YaÄŸlar", price:325},
    {name:"MÄ±sÄ±r YaÄŸÄ±", pack:"5 L Teneke", cat:"YaÄŸlar", price:315},
    {name:"ZeytinyaÄŸÄ±", pack:"1 L Pet", cat:"YaÄŸlar", price:210},
    {name:"PirinÃ§ Baldo", pack:"1 Kg", cat:"Bakliyat", price:58},
    {name:"PirinÃ§ OsmancÄ±k", pack:"5 Kg", cat:"Bakliyat", price:265},
    {name:"Nohut", pack:"2.5 Kg", cat:"Bakliyat", price:150},
    {name:"Kuru Fasulye", pack:"2.5 Kg", cat:"Bakliyat", price:175},
    {name:"KÄ±rmÄ±zÄ± Mercimek", pack:"2.5 Kg", cat:"Bakliyat", price:135},
    {name:"Domates SalÃ§a", pack:"5 Kg", cat:"Soslar", price:240},
    {name:"KetÃ§ap", pack:"5 Kg", cat:"Soslar", price:210},
    {name:"Mayonez", pack:"5 Kg", cat:"Soslar", price:235},
    {name:"AcÄ± Sos", pack:"1 Kg", cat:"Soslar", price:95},
    {name:"Toz Åeker", pack:"5 Kg", cat:"Temel GÄ±da", price:175},
    {name:"Un", pack:"10 Kg", cat:"Temel GÄ±da", price:190},
    {name:"Makarna", pack:"500 g x 20", cat:"Temel GÄ±da", price:220},
    {name:"Ã‡ay", pack:"1 Kg", cat:"Temel GÄ±da", price:165},
    {name:"GazlÄ± Ä°Ã§ecek", pack:"1 L", cat:"Ä°Ã§ecek", price:18},
    {name:"Meyve Suyu", pack:"1 L", cat:"Ä°Ã§ecek", price:26},
    {name:"Su", pack:"1.5 L x 6", cat:"Ä°Ã§ecek", price:45},
    {name:"BulaÅŸÄ±k DeterjanÄ±", pack:"4 L", cat:"Temizlik", price:135},
    {name:"Ã‡amaÅŸÄ±r Suyu", pack:"4 L", cat:"Temizlik", price:55},
    {name:"YÃ¼zey Temizleyici", pack:"4 L", cat:"Temizlik", price:95},
  ];

  // 100'e yakÄ±n Ã¼rÃ¼n oluÅŸtur (aynÄ± Ã¼rÃ¼nlerin farklÄ± paketleri gibi)
  const packs = ["1 Kg","2.5 Kg","5 Kg","10 Kg","500 g x 20","1 L","5 L Teneke","4 L","1.5 L x 6","6'lÄ±","12'li"];
  const products = [];
  let id = 1;
  for (let r=0; r<5; r++){
    for (const p of base){
      const pack = packs[(r + p.name.length) % packs.length];
      const price = Math.max(12, Math.round((p.price * (0.85 + r*0.05)) ));
      products.push({ id:id++, name: p.name, pack, cat: p.cat, price });
      if(products.length >= 100) break;
    }
    if(products.length >= 100) break;
  }

  let state = {
    cat: "TÃ¼mÃ¼",
    q: "",
    sort: "recommended", // recommended | priceAsc | priceDesc | nameAsc
  };

  const grid = document.getElementById("grid");
  const meta = document.getElementById("meta");
  const qInput = document.getElementById("q");
  const clearBtn = document.getElementById("clearBtn");
  const sortBtn = document.getElementById("sortBtn");

  function formatTRY(n){
    return "â‚º" + n.toLocaleString("tr-TR", {minimumFractionDigits:2, maximumFractionDigits:2});
  }

  function filtered(){
    let list = [...products];

    if(state.cat !== "TÃ¼mÃ¼"){
      list = list.filter(x => x.cat === state.cat);
    }
    if(state.q.trim()){
      const t = state.q.trim().toLowerCase();
      list = list.filter(x =>
        (x.name + " " + x.pack + " " + x.cat).toLowerCase().includes(t)
      );
    }

    if(state.sort === "priceAsc") list.sort((a,b)=>a.price-b.price);
    if(state.sort === "priceDesc") list.sort((a,b)=>b.price-a.price);
    if(state.sort === "nameAsc") list.sort((a,b)=>a.name.localeCompare(b.name, "tr"));

    return list;
  }

  function render(){
    const list = filtered();
    meta.textContent = `${list.length} Ã¼rÃ¼n â€¢ ${state.cat}${state.q ? " â€¢ Arama: " + state.q : ""}`;

    grid.innerHTML = list.map(p => `
      <button class="group bg-white rounded-2xl border shadow-sm active:scale-[0.99] transition p-3 text-left"
              onclick="openSheet(${p.id})">
        <div class="h-24 rounded-xl bg-gray-100 grid place-items-center text-gray-400 text-xs">
          ÃœrÃ¼n GÃ¶rseli
        </div>
        <div class="mt-2 text-sm font-semibold leading-snug line-clamp-2">${p.name}</div>
        <div class="text-xs text-gray-500">${p.pack}</div>
        <div class="mt-1 flex items-end justify-between gap-2">
          <div class="text-red-600 font-bold">${formatTRY(p.price)}</div>
          <span class="text-[10px] px-2 py-1 rounded-full bg-gray-100 text-gray-600">${p.cat}</span>
        </div>
      </button>
    `).join("");
  }

  // Chips
  document.querySelectorAll(".chip").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      state.cat = btn.dataset.cat;
      document.querySelectorAll(".chip").forEach(b=>{
        b.classList.remove("bg-red-600","text-white");
        b.classList.add("bg-gray-100");
      });
      btn.classList.add("bg-red-600","text-white");
      btn.classList.remove("bg-gray-100");
      render();
    });
  });

  // Search
  qInput.addEventListener("input", (e)=>{
    state.q = e.target.value;
    clearBtn.classList.toggle("hidden", !state.q);
    render();
  });
  clearBtn.addEventListener("click", ()=>{
    state.q = "";
    qInput.value = "";
    clearBtn.classList.add("hidden");
    render();
  });

  // Sort
  const sortModes = [
    {key:"recommended", label:"Ã–nerilen"},
    {key:"priceAsc", label:"Fiyat â†‘"},
    {key:"priceDesc", label:"Fiyat â†“"},
    {key:"nameAsc", label:"Ä°sim Aâ€“Z"},
  ];
  sortBtn.addEventListener("click", ()=>{
    const idx = sortModes.findIndex(x=>x.key===state.sort);
    const next = sortModes[(idx+1) % sortModes.length];
    state.sort = next.key;
    sortBtn.textContent = "SÄ±rala: " + next.label;
    render();
  });

  // Bottom tabs (demo)
  document.querySelectorAll(".tab").forEach(t=>{
    t.addEventListener("click", ()=>{
      document.querySelectorAll(".tab").forEach(x=>{
        x.classList.remove("text-red-600","font-semibold");
        x.classList.add("text-gray-500");
      });
      t.classList.add("text-red-600","font-semibold");
      t.classList.remove("text-gray-500");
      // Demo: sadece anasayfa ekranÄ± var
    });
  });

  // Sheet logic
  const sheetBackdrop = document.getElementById("sheetBackdrop");
  const sheet = document.getElementById("sheet");
  const closeSheet = document.getElementById("closeSheet");
  const sheetTitle = document.getElementById("sheetTitle");
  const sheetSub = document.getElementById("sheetSub");
  const sheetPrice = document.getElementById("sheetPrice");
  const qtyEl = document.getElementById("qty");
  let qty = 1;
  let current = null;

  window.openSheet = function(id){
    current = products.find(x=>x.id===id);
    qty = 1;
    qtyEl.textContent = qty;
    sheetTitle.textContent = current.name;
    sheetSub.textContent = current.pack + " â€¢ " + current.cat;
    sheetPrice.textContent = formatTRY(current.price);
    sheetBackdrop.classList.remove("hidden");
    sheet.classList.remove("hidden");
  }

  function close(){
    sheetBackdrop.classList.add("hidden");
    sheet.classList.add("hidden");
  }
  closeSheet.addEventListener("click", close);
  sheetBackdrop.addEventListener("click", close);

  document.getElementById("minus").addEventListener("click", ()=>{
    qty = Math.max(1, qty-1);
    qtyEl.textContent = qty;
  });
  document.getElementById("plus").addEventListener("click", ()=>{
    qty = qty+1;
    qtyEl.textContent = qty;
  });
  document.getElementById("addToCart").addEventListener("click", ()=>{
    close();
    alert("Demo: Sepete eklendi âœ…");
  });

  // initial
  render();
</script>
</body>
</html>
